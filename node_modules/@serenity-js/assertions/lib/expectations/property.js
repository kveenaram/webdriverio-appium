"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.property = void 0;
const io_1 = require("@serenity-js/core/lib/io");
const Expectation_1 = require("../Expectation");
const outcomes_1 = require("../outcomes");
function property(propertyName, expectation) {
    return new HasProperty(propertyName, expectation);
}
exports.property = property;
/**
 * @package
 */
class HasProperty extends Expectation_1.Expectation {
    constructor(propertyName, expectation) {
        super(io_1.formatted `have property ${propertyName} that does ${expectation}`);
        this.propertyName = propertyName;
        this.expectation = expectation;
    }
    answeredBy(actor) {
        return (actual) => this.expectation.answeredBy(actor)(actual[this.propertyName])
            .then((outcome) => {
            return outcome instanceof outcomes_1.ExpectationMet
                ? new outcomes_1.ExpectationMet(this.toString(), outcome.expected, actual[this.propertyName])
                : new outcomes_1.ExpectationNotMet(this.toString(), outcome.expected, actual[this.propertyName]);
        });
    }
}
//# sourceMappingURL=property.js.map